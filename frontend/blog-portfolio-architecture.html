<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Architecture Walkthrough | Blog | Gaurav Kumar</title>
    <meta name="description"
        content="A deep dive into the architecture of Gaurav Kumar's portfolio website ‚Äî dual-backend design, MVC patterns, Firebase Cloud Functions, optimization strategies, and future roadmap.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/logo.png">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Animated Background Canvas -->
    <canvas id="bgCanvas"></canvas>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="assets/logo.png" alt="Gaurav Kumar" class="nav-logo-img">
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html#about">About</a></li>
                <li><a href="index.html#tech-stack">Tech Stack</a></li>
                <li><a href="index.html#projects">Projects</a></li>
                <li><a href="blogs.html">Blog</a></li>
                <li><a href="index.html#experience">Experience</a></li>
                <li><a href="index.html#skills">Skills</a></li>
                <li><a href="index.html#certifications">Certifications</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <span class="toggle-icon sun">‚òÄÔ∏è</span>
                    <span class="toggle-icon moon">üåô</span>
                </button>
                <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle menu">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Blog Post Hero -->
    <section class="section blog-post-hero">
        <div class="container">
            <a href="blogs.html" class="back-link">‚Üê Back to Blog</a>
            <div class="blog-post-hero-content">
                <div class="blog-post-icon">üèóÔ∏è</div>
                <h1 class="blog-post-title">Portfolio Architecture ‚Äî Full Walkthrough</h1>
                <div class="blog-post-meta">
                    <span class="blog-post-date">üìÖ February 2025</span>
                    <span class="blog-post-reading-time">‚è±Ô∏è 12 min read</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Post Content -->
    <section class="section blog-post-section">
        <div class="container">
            <article class="blog-post">

                <!-- Project Overview -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Project Overview</h2>
                    <p>This portfolio is more than a static page ‚Äî it's a full-stack system with a <strong>dual-backend
                            architecture</strong>. Locally, it runs on <strong>Node.js/Express + SQL Server</strong>. In
                        production, it uses <strong>Firebase Hosting + Cloud Functions + Firestore</strong>. The
                        frontend features an animated data-stream background, dark/light theme support, scroll-reveal
                        animations, visitor tracking, and a server-powered contact form.</p>
                    <div class="blog-highlight">
                        <strong>Repository:</strong> <a href="https://github.com/iimgaurav"
                            target="_blank">github.com/iimgaurav</a>
                    </div>
                </section>

                <!-- Project Structure -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Project Structure</h2>
                    <pre class="code-block">portfolio/
‚îú‚îÄ‚îÄ frontend/                     # Static assets (HTML, CSS, JS)
‚îÇ   ‚îú‚îÄ‚îÄ index.html                # Main portfolio page
‚îÇ   ‚îú‚îÄ‚îÄ blogs.html                # Blog listing page
‚îÇ   ‚îú‚îÄ‚îÄ blog-*.html               # Individual blog posts
‚îÇ   ‚îú‚îÄ‚îÄ certifications.html       # Certifications page
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css             # 2400+ line design system
‚îÇ   ‚îú‚îÄ‚îÄ js/script.js              # Canvas animation, forms, tracking
‚îÇ   ‚îî‚îÄ‚îÄ assets/                   # Images & media
‚îú‚îÄ‚îÄ backend/                      # Local Express API (MVC)
‚îÇ   ‚îú‚îÄ‚îÄ server.js                 # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ .env                      # Environment config
‚îÇ   ‚îú‚îÄ‚îÄ config/db.js              # SQL Server connection pool
‚îÇ   ‚îú‚îÄ‚îÄ routes/                   # Route definitions
‚îÇ   ‚îú‚îÄ‚îÄ controllers/              # Business logic
‚îÇ   ‚îú‚îÄ‚îÄ middleware/                # Error handler
‚îÇ   ‚îî‚îÄ‚îÄ scripts/init-db.js        # Database setup
‚îú‚îÄ‚îÄ functions/                    # Firebase Cloud Functions
‚îÇ   ‚îî‚îÄ‚îÄ index.js                  # Express app ‚Üí Cloud Function
‚îú‚îÄ‚îÄ firebase.json                 # Firebase hosting + functions config
‚îú‚îÄ‚îÄ firestore.rules               # Firestore security rules
‚îî‚îÄ‚îÄ firestore.indexes.json        # Firestore indexes</pre>
                </section>

                <!-- System Architecture -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">System Architecture</h2>

                    <!-- DIAGRAM 1: Dual Architecture -->
                    <div class="diagram-container">
                        <div class="diagram-title">‚ö° System Architecture Overview</div>
                        <div class="arch-dual">
                            <!-- Local Dev Column -->
                            <div class="arch-column">
                                <span class="arch-column-title">üñ•Ô∏è Local Development</span>
                                <div class="arch-box client">üåê Browser<span
                                        class="arch-box-sub">http://localhost:3000</span></div>
                                <div class="arch-connector">‚Üì<span class="arch-connector-label">HTTP Request</span>
                                </div>
                                <div class="arch-box server">‚öôÔ∏è Express.js Server<span class="arch-box-sub">server.js ‚Äî
                                        port 3000</span></div>
                                <div class="arch-connector">‚Üì<span class="arch-connector-label">ODBC Driver 18</span>
                                </div>
                                <div class="arch-box database">üóÉÔ∏è SQL Server<span class="arch-box-sub">Windows Auth ‚Äî
                                        msnodesqlv8</span></div>
                            </div>
                            <!-- Firebase Column -->
                            <div class="arch-column">
                                <span class="arch-column-title">‚òÅÔ∏è Production (Firebase)</span>
                                <div class="arch-box client">üåê Browser<span
                                        class="arch-box-sub">your-project.web.app</span></div>
                                <div class="arch-connector">‚Üì<span class="arch-connector-label">CDN Edge</span></div>
                                <div class="arch-box cloud">üî• Firebase Hosting<span class="arch-box-sub">Static files
                                        from frontend/</span></div>
                                <div class="arch-connector">‚Üì<span class="arch-connector-label">/api/** rewrite</span>
                                </div>
                                <div class="arch-box server">‚ö° Cloud Functions<span class="arch-box-sub">Express app ‚Üí
                                        single function</span></div>
                                <div class="arch-connector">‚Üì<span class="arch-connector-label">Admin SDK</span></div>
                                <div class="arch-box database">üìÑ Firestore<span class="arch-box-sub">NoSQL ‚Äî
                                        contactMessages, visitors</span></div>
                                <div class="arch-connector">üîí</div>
                                <div class="arch-box security">üõ°Ô∏è Firestore Rules<span class="arch-box-sub">All client
                                        access denied</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Local Architecture -->
                    <div class="blog-subsection">
                        <h3 class="blog-subheading">1. Local Development Architecture</h3>
                        <p>For local development, the project uses a classic <strong>MVC pattern</strong> with
                            Express.js and SQL Server using Windows Authentication via <code>msnodesqlv8</code>.</p>
                        <table class="blog-table">
                            <thead>
                                <tr>
                                    <th>Layer</th>
                                    <th>File</th>
                                    <th>Role</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Entry Point</td>
                                    <td><code>server.js</code></td>
                                    <td>Express app, static file serving, route mounting, graceful shutdown</td>
                                </tr>
                                <tr>
                                    <td>Config</td>
                                    <td><code>config/db.js</code></td>
                                    <td>Singleton connection pool, lazy initialization, ODBC Driver 18</td>
                                </tr>
                                <tr>
                                    <td>Routes</td>
                                    <td><code>routes/*.js</code></td>
                                    <td>Thin routing layer ‚Äî 3 route files for health, contact, visitors</td>
                                </tr>
                                <tr>
                                    <td>Controllers</td>
                                    <td><code>controllers/*.js</code></td>
                                    <td>Business logic with parameterized SQL queries and input validation</td>
                                </tr>
                                <tr>
                                    <td>Middleware</td>
                                    <td><code>middleware/errorHandler.js</code></td>
                                    <td>Global error handler with environment-aware error messages</td>
                                </tr>
                                <tr>
                                    <td>Database</td>
                                    <td><code>scripts/init-db.js</code></td>
                                    <td>Creates database + tables (ContactMessages, Visitors) if not exists</td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- DIAGRAM 2: MVC Flow -->
                        <div class="diagram-container">
                            <div class="diagram-title">üîÑ Backend MVC Request Flow</div>
                            <div class="mvc-flow">
                                <div class="mvc-box"
                                    style="background:rgba(6,182,212,0.15);border:2px solid rgba(6,182,212,0.5);color:#06B6D4;">
                                    üåê Client<span class="mvc-box-sub">HTTP Request</span></div>
                                <span class="mvc-arrow">‚Üí</span>
                                <div class="mvc-box"
                                    style="background:rgba(16,185,129,0.15);border:2px solid rgba(16,185,129,0.5);color:#10B981;">
                                    ‚öôÔ∏è server.js<span class="mvc-box-sub">CORS ¬∑ JSON ¬∑ Static</span></div>
                                <span class="mvc-arrow">‚Üí</span>
                                <div class="mvc-box"
                                    style="background:rgba(245,158,11,0.15);border:2px solid rgba(245,158,11,0.5);color:#F59E0B;">
                                    üõ§Ô∏è Routes<span class="mvc-box-sub">health ¬∑ contact ¬∑ visitor</span></div>
                                <span class="mvc-arrow">‚Üí</span>
                                <div class="mvc-box"
                                    style="background:rgba(139,92,246,0.15);border:2px solid rgba(139,92,246,0.5);color:#A78BFA;">
                                    üìã Controllers<span class="mvc-box-sub">Validate ¬∑ Execute ¬∑ Respond</span></div>
                                <span class="mvc-arrow">‚Üí</span>
                                <div class="mvc-box"
                                    style="background:rgba(217,249,157,0.15);border:2px solid rgba(217,249,157,0.5);color:#D9F99D;">
                                    üóÉÔ∏è db.js<span class="mvc-box-sub">Connection Pool</span></div>
                                <span class="mvc-arrow">‚Üí</span>
                                <div class="mvc-box"
                                    style="background:rgba(239,68,68,0.15);border:2px solid rgba(239,68,68,0.5);color:#EF4444;">
                                    üíæ SQL Server<span class="mvc-box-sub">Parameterized Queries</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Firebase Architecture -->
                    <div class="blog-subsection">
                        <h3 class="blog-subheading">2. Production Architecture (Firebase)</h3>
                        <p>In production, the project uses a <strong>serverless architecture</strong> on Firebase. The
                            frontend is deployed via Firebase Hosting, and the API is a single Cloud Function wrapping
                            an Express app.</p>
                        <table class="blog-table">
                            <thead>
                                <tr>
                                    <th>Component</th>
                                    <th>Service</th>
                                    <th>Role</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Hosting</td>
                                    <td>Firebase Hosting</td>
                                    <td>Serves static files from <code>frontend/</code> with CDN</td>
                                </tr>
                                <tr>
                                    <td>API</td>
                                    <td>Cloud Functions</td>
                                    <td>Single <code>api</code> function handling all <code>/api/**</code> routes</td>
                                </tr>
                                <tr>
                                    <td>Database</td>
                                    <td>Firestore</td>
                                    <td>NoSQL storage for contact messages and visitor logs</td>
                                </tr>
                                <tr>
                                    <td>Security</td>
                                    <td>Firestore Rules</td>
                                    <td>All direct client access denied ‚Äî only admin SDK (Cloud Functions) can
                                        read/write</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Data Flow -->
                    <div class="blog-subsection">
                        <h3 class="blog-subheading">3. Request Flow</h3>
                        <p>The frontend auto-detects the environment and routes API calls accordingly:</p>
                        <pre class="code-block">// Auto-detect: Firebase hosting uses /api, local dev uses localhost:3000
const API_BASE = window.location.hostname === 'localhost' && window.location.port !== ''
    ? 'http://localhost:3000/api'
    : '/api';</pre>
                        <p>This means the same frontend code works seamlessly in both local dev and Firebase production
                            without any configuration changes.</p>
                    </div>
                </section>

                <!-- Frontend Deep Dive -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Frontend Deep Dive</h2>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">1. Animated Data Stream Background</h3>
                        <p>The <code>DataStreamBackground</code> class creates an interactive particle network on a
                            full-screen <code>&lt;canvas&gt;</code>. It renders 80 floating nodes with connections,
                            mouse interaction, and theme-aware colors.</p>
                        <ul class="blog-list">
                            <li><strong>Node Physics:</strong> Nodes bounce off canvas edges with random velocity
                                vectors</li>
                            <li><strong>Mouse Repulsion:</strong> Nodes gently push away from the cursor within a 200px
                                radius</li>
                            <li><strong>Dynamic Connections:</strong> Lines drawn between nodes within 180px, with
                                opacity fading by distance</li>
                            <li><strong>Pulse Animation:</strong> Each node subtly pulses using sine-wave modulation
                            </li>
                            <li><strong>Theme-Aware:</strong> Colors automatically adapt between dark and light modes
                            </li>
                        </ul>
                    </div>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">2. Feature Modules</h3>
                        <table class="blog-table">
                            <thead>
                                <tr>
                                    <th>Module</th>
                                    <th>What It Does</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>initNavbar()</code></td>
                                    <td>Scroll-based glassmorphism effect, mobile toggle with hamburger animation</td>
                                </tr>
                                <tr>
                                    <td><code>initThemeToggle()</code></td>
                                    <td>Dark/light mode with localStorage persistence and CSS variable swapping</td>
                                </tr>
                                <tr>
                                    <td><code>initScrollReveal()</code></td>
                                    <td>IntersectionObserver with staggered animations for cards and sections</td>
                                </tr>
                                <tr>
                                    <td><code>initCounterAnimation()</code></td>
                                    <td>Animated number counters for hero stats (Years, Certs, Projects)</td>
                                </tr>
                                <tr>
                                    <td><code>initContactForm()</code></td>
                                    <td>Async form submission with validation, loading state, and toast notifications
                                    </td>
                                </tr>
                                <tr>
                                    <td><code>trackVisitor()</code></td>
                                    <td>Silent POST to backend on page load ‚Äî tracks page, IP, user agent</td>
                                </tr>
                                <tr>
                                    <td><code>initProjectRipple()</code></td>
                                    <td>Material Design ripple effect on project card clicks</td>
                                </tr>
                                <tr>
                                    <td><code>initActiveNavHighlight()</code></td>
                                    <td>Scroll-spy that highlights the current section in the navbar</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">3. CSS Design System</h3>
                        <p>The 2400+ line CSS file implements a complete design system with:</p>
                        <ul class="blog-list">
                            <li><strong>CSS Custom Properties:</strong> 30+ design tokens for colors, spacing, shadows,
                                and gradients</li>
                            <li><strong>Dual Theme Support:</strong> Full dark and light mode via
                                <code>[data-theme]</code> selectors
                            </li>
                            <li><strong>Glassmorphism:</strong> <code>backdrop-filter: blur()</code> on navbar, cards,
                                and modals</li>
                            <li><strong>Gradient Animations:</strong> <code>gradient-shift</code> and
                                <code>shimmer</code> keyframes on buttons
                            </li>
                            <li><strong>Responsive Breakpoints:</strong> Mobile-first with
                                <code>@media (max-width: 768px)</code>
                            </li>
                            <li><strong>Bento Grid Layout:</strong> Tech stack displayed in a modern bento-box grid</li>
                        </ul>
                    </div>

                    <!-- DIAGRAM 3: Frontend Modules -->
                    <div class="diagram-container">
                        <div class="diagram-title">üì¶ Frontend Feature Modules ‚Äî script.js</div>
                        <div class="modules-grid">
                            <div class="module-card">
                                <div class="module-name">DataStreamBackground</div>
                                <div class="module-desc">80-node particle network on canvas with mouse interaction</div>
                                <span class="module-badge canvas-badge">Canvas</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initNavbar()</div>
                                <div class="module-desc">Scroll glassmorphism + mobile hamburger menu</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initThemeToggle()</div>
                                <div class="module-desc">Dark ‚Üî Light mode with localStorage persist</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initScrollReveal()</div>
                                <div class="module-desc">IntersectionObserver with staggered fade-in</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initCounterAnimation()</div>
                                <div class="module-desc">Animated number counters for hero stats</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initContactForm()</div>
                                <div class="module-desc">Async POST with validation + toast notifications</div>
                                <span class="module-badge api">API</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">trackVisitor()</div>
                                <div class="module-desc">Silent POST on page load ‚Äî IP, page, user agent</div>
                                <span class="module-badge api">API</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initProjectRipple()</div>
                                <div class="module-desc">Material Design ripple on project card clicks</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initActiveNavHighlight()</div>
                                <div class="module-desc">Scroll-spy highlights current section in nav</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                            <div class="module-card">
                                <div class="module-name">initSmoothScroll()</div>
                                <div class="module-desc">Smooth anchor scrolling for all # links</div>
                                <span class="module-badge ui">UI</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- API Design -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">API Design</h2>
                    <p>Both backends expose the same REST API:</p>
                    <table class="blog-table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Endpoint</th>
                                <th>Description</th>
                                <th>Security</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>GET</strong></td>
                                <td><code>/api/health</code></td>
                                <td>Health check with DB connection status</td>
                                <td>Public</td>
                            </tr>
                            <tr>
                                <td><strong>POST</strong></td>
                                <td><code>/api/contact</code></td>
                                <td>Submit contact form (validated: name, email, message)</td>
                                <td>Email regex + required fields</td>
                            </tr>
                            <tr>
                                <td><strong>GET</strong></td>
                                <td><code>/api/messages</code></td>
                                <td>List all contact messages (sorted by date)</td>
                                <td>Public (should be admin-only)</td>
                            </tr>
                            <tr>
                                <td><strong>POST</strong></td>
                                <td><code>/api/visitors</code></td>
                                <td>Track a page visit (page, IP, user agent)</td>
                                <td>Auto-tracked, silent</td>
                            </tr>
                            <tr>
                                <td><strong>GET</strong></td>
                                <td><code>/api/visitors/count</code></td>
                                <td>Get total visitor count</td>
                                <td>Public</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>Key Design Decisions:</strong></p>
                    <ul class="blog-list">
                        <li>Parameterized SQL queries to prevent SQL injection</li>
                        <li>Input trimming and email regex validation on both client and server</li>
                        <li>Environment-aware error messages (detailed in dev, generic in production)</li>
                        <li>Graceful shutdown with <code>SIGINT</code> handler to close the connection pool</li>
                    </ul>
                </section>

                <!-- DIAGRAM 4: Tech Stack -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Tools & Tech Stack</h2>
                    <div class="diagram-container">
                        <div class="diagram-title">üß∞ Complete Technology Map</div>
                        <div class="tech-grid">
                            <div class="tech-row">
                                <span class="tech-row-label">Frontend</span>
                                <div class="tech-row-items">
                                    <span class="tech-pill frontend">HTML5</span>
                                    <span class="tech-pill frontend">CSS3</span>
                                    <span class="tech-pill frontend">JavaScript</span>
                                    <span class="tech-pill frontend">Canvas API</span>
                                    <span class="tech-pill frontend">Google Fonts</span>
                                </div>
                            </div>
                            <div class="tech-row">
                                <span class="tech-row-label">Backend</span>
                                <div class="tech-row-items">
                                    <span class="tech-pill backend">Node.js</span>
                                    <span class="tech-pill backend">Express.js</span>
                                    <span class="tech-pill backend">SQL Server</span>
                                    <span class="tech-pill backend">msnodesqlv8</span>
                                    <span class="tech-pill backend">dotenv</span>
                                    <span class="tech-pill backend">cors</span>
                                </div>
                            </div>
                            <div class="tech-row">
                                <span class="tech-row-label">Cloud</span>
                                <div class="tech-row-items">
                                    <span class="tech-pill cloud-pill">Firebase Hosting</span>
                                    <span class="tech-pill cloud-pill">Cloud Functions</span>
                                    <span class="tech-pill cloud-pill">Firestore</span>
                                    <span class="tech-pill cloud-pill">Firebase Admin SDK</span>
                                    <span class="tech-pill cloud-pill">Firebase CLI</span>
                                </div>
                            </div>
                            <div class="tech-row">
                                <span class="tech-row-label">Features</span>
                                <div class="tech-row-items">
                                    <span class="tech-pill feat">Dark/Light Theme</span>
                                    <span class="tech-pill feat">Canvas Animation</span>
                                    <span class="tech-pill feat">Scroll Reveal</span>
                                    <span class="tech-pill feat">Toast Notifications</span>
                                    <span class="tech-pill feat">Visitor Tracking</span>
                                    <span class="tech-pill feat">Contact Form</span>
                                    <span class="tech-pill feat">Glassmorphism</span>
                                </div>
                            </div>
                            <div class="tech-row">
                                <span class="tech-row-label">DevOps</span>
                                <div class="tech-row-items">
                                    <span class="tech-pill devops">Git</span>
                                    <span class="tech-pill devops">GitHub</span>
                                    <span class="tech-pill devops">npm</span>
                                    <span class="tech-pill devops">Firebase Deploy</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Optimization Strategies -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">How We Can Optimise</h2>
                    <p>Here are the key areas where the portfolio can be optimised to improve performance, security, and
                        scalability:</p>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">1. Performance Optimisations</h3>
                        <table class="blog-table">
                            <thead>
                                <tr>
                                    <th>Area</th>
                                    <th>Current State</th>
                                    <th>Optimisation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>CSS</td>
                                    <td>Single 2400+ line file</td>
                                    <td>Split into modular files, minify for production, use critical CSS inlining</td>
                                </tr>
                                <tr>
                                    <td>JavaScript</td>
                                    <td>Single 400-line file</td>
                                    <td>Bundle with Vite/Rollup, tree-shake unused code, lazy-load canvas animation</td>
                                </tr>
                                <tr>
                                    <td>Canvas Animation</td>
                                    <td>80 nodes, runs constantly</td>
                                    <td>Reduce to 40 nodes on mobile, pause when tab is hidden
                                        (<code>visibilitychange</code>)</td>
                                </tr>
                                <tr>
                                    <td>Images</td>
                                    <td>No optimization</td>
                                    <td>Convert to WebP, lazy-load below-the-fold images, add width/height attributes
                                    </td>
                                </tr>
                                <tr>
                                    <td>Fonts</td>
                                    <td>Two Google Fonts loaded upfront</td>
                                    <td>Use <code>font-display: swap</code>, subset fonts to used characters only</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">2. Security Improvements</h3>
                        <ul class="blog-list">
                            <li><strong>Rate Limiting:</strong> Add <code>express-rate-limit</code> to contact and
                                visitor endpoints to prevent abuse</li>
                            <li><strong>Admin Authentication:</strong> Protect <code>GET /api/messages</code> with JWT
                                or Firebase Auth ‚Äî currently publicly accessible</li>
                            <li><strong>CORS Hardening:</strong> Restrict CORS origins to the production domain only
                            </li>
                            <li><strong>Input Sanitization:</strong> Add HTML sanitization (e.g.,
                                <code>dompurify</code>) to prevent XSS via contact messages
                            </li>
                            <li><strong>Content Security Policy:</strong> Add CSP headers to prevent inline script
                                injection</li>
                        </ul>
                    </div>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">3. Database Optimisations</h3>
                        <ul class="blog-list">
                            <li><strong>Indexing:</strong> Add indexes on <code>created_at</code> and <code>email</code>
                                columns for faster queries</li>
                            <li><strong>Connection Pooling:</strong> Already implemented with singleton pattern ‚Äî
                                consider adding pool size config</li>
                            <li><strong>Query Caching:</strong> Cache visitor count with a TTL (e.g., refresh every 5
                                minutes)</li>
                            <li><strong>Firestore Composite Indexes:</strong> Add indexes for compound queries if needed
                            </li>
                        </ul>
                    </div>

                    <div class="blog-subsection">
                        <h3 class="blog-subheading">4. SEO & Accessibility</h3>
                        <ul class="blog-list">
                            <li><strong>Meta Tags:</strong> Add Open Graph and Twitter Card tags for social sharing</li>
                            <li><strong>Sitemap:</strong> Generate <code>sitemap.xml</code> for better search engine
                                indexing</li>
                            <li><strong>ARIA Labels:</strong> Enhance screen reader support on interactive elements</li>
                            <li><strong>Lighthouse Score:</strong> Target 90+ on Performance, Accessibility, Best
                                Practices, SEO</li>
                        </ul>
                    </div>
                </section>

                <!-- Future Plans -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Next Plan ‚Äî Coming Days</h2>
                    <p>Here's the roadmap for upcoming enhancements:</p>

                    <table class="blog-table">
                        <thead>
                            <tr>
                                <th>Priority</th>
                                <th>Feature</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üî¥ High</td>
                                <td>Admin Dashboard</td>
                                <td>Build a protected dashboard to view contact messages, visitor analytics, and site
                                    stats with charts</td>
                            </tr>
                            <tr>
                                <td>üî¥ High</td>
                                <td>CI/CD Pipeline</td>
                                <td>GitHub Actions workflow for auto-deploying to Firebase on push to main</td>
                            </tr>
                            <tr>
                                <td>üü° Medium</td>
                                <td>Blog CMS</td>
                                <td>Move blog posts from static HTML to Firestore-backed dynamic content with Markdown
                                    support</td>
                            </tr>
                            <tr>
                                <td>üü° Medium</td>
                                <td>Email Notifications</td>
                                <td>SendGrid or Firebase Extensions integration to send email on new contact form
                                    submissions</td>
                            </tr>
                            <tr>
                                <td>üü° Medium</td>
                                <td>Analytics Dashboard</td>
                                <td>Real-time visitor analytics with charts ‚Äî page views, unique visitors, geographic
                                    data</td>
                            </tr>
                            <tr>
                                <td>üü¢ Low</td>
                                <td>PWA Support</td>
                                <td>Add service worker and manifest for offline access and "Add to Home Screen"</td>
                            </tr>
                            <tr>
                                <td>üü¢ Low</td>
                                <td>Internationalisation</td>
                                <td>Multi-language support (English + Hindi) using i18n patterns</td>
                            </tr>
                            <tr>
                                <td>üü¢ Low</td>
                                <td>Docker Setup</td>
                                <td>Containerize the local backend for consistent dev environments across machines</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Key Learnings -->
                <section class="blog-section">
                    <h2 class="blog-subtitle">Key Learnings</h2>
                    <ul class="blog-list">
                        <li><strong>Dual-Backend Pattern:</strong> Designing a portable API that works with both SQL
                            Server and Firestore taught me to think about database abstraction from day one</li>
                        <li><strong>Serverless Trade-offs:</strong> Firebase Cloud Functions eliminate server management
                            but introduce cold start latency ‚Äî worth it for a portfolio</li>
                        <li><strong>CSS at Scale:</strong> A 2400+ line CSS file needs structure ‚Äî custom properties and
                            clear section comments are essential</li>
                        <li><strong>Canvas Performance:</strong> requestAnimationFrame is critical for smooth
                            animations; always debounce resize handlers</li>
                        <li><strong>Security by Default:</strong> Firestore rules blocking all direct access forces
                            proper API design through Cloud Functions</li>
                    </ul>
                </section>

                <!-- Call to Action -->
                <section class="blog-section blog-cta">
                    <h2>Want to discuss this project?</h2>
                    <p>Feel free to reach out or explore the source code on GitHub.</p>
                    <div class="blog-cta-buttons">
                        <a href="https://github.com/iimgaurav" target="_blank" class="btn btn-primary">
                            <span class="btn-icon">‚≠ê</span> View on GitHub
                        </a>
                        <a href="https://topmate.io/iimgaurav/" target="_blank" class="btn btn-talk">
                            <span class="btn-icon">ü§ù</span> Lets Talk
                        </a>
                        <a href="index.html#contact" class="btn btn-secondary">
                            <span class="btn-icon">üìß</span> Contact Me
                        </a>
                    </div>
                </section>
            </article>
        </div>
    </section>

    <!-- Related Posts -->
    <section class="section blog-related">
        <div class="container">
            <h2 class="section-title">More <span class="gradient-text">Projects</span></h2>
            <p class="section-subtitle">Check out other projects on my portfolio</p>
            <div class="blog-links">
                <a href="index.html#projects" class="btn btn-secondary">
                    <span class="btn-icon">üîó</span> View All Projects
                </a>
                <a href="blogs.html" class="btn btn-ghost">
                    <span class="btn-icon">üìö</span> Back to Blog
                </a>
            </div>
        </div>
    </section>

    <!-- Terminal Footer -->
    <footer class="terminal-footer">
        <div class="container">
            <div class="footer-terminal">
                <div class="terminal-header">
                    <span class="terminal-dot red"></span>
                    <span class="terminal-dot yellow"></span>
                    <span class="terminal-dot green"></span>
                    <span class="terminal-title">gaurav@portfolio:~</span>
                </div>
                <div class="terminal-content">
                    <p>$ <span class="terminal-cursor">‚ñ∏</span> Built with <span class="accent">HTML</span>, <span
                            class="accent">CSS</span>, <span class="accent">JavaScript</span></p>
                    <p>$ <span class="terminal-cursor">‚ñ∏</span> Hosted on <span class="accent">Firebase</span> | <span
                            class="accent">GitHub</span> | <span class="accent">Azure</span></p>
                    <p>$ <span class="terminal-cursor">‚ñ∏</span> ¬© 2025 Gaurav Kumar. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/script.js"></script>
</body>

</html>